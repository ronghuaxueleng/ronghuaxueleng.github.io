<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="白云雅阁" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="npm的常用命令npm install xxx 安装模块  
npm install xxx@1.1.1   安装1.1.1版本的xxx  
npm install xxx -g 将模块安装到全局环境中。  
npm ls 查看安装的模块及依赖  
npm ls -g 查看全局安装的模块及依赖  
npm uninstall xxx  (-g) 卸载模块  
npm cache clean 清理">
<meta property="og:type" content="article">
<meta property="og:title" content="NPM安装及优化步骤--详细版">
<meta property="og:url" content="http://ronghuaxueleng.github.io/2015/12/15/npm-setting/index.html">
<meta property="og:site_name" content="白云雅阁">
<meta property="og:description" content="npm的常用命令npm install xxx 安装模块  
npm install xxx@1.1.1   安装1.1.1版本的xxx  
npm install xxx -g 将模块安装到全局环境中。  
npm ls 查看安装的模块及依赖  
npm ls -g 查看全局安装的模块及依赖  
npm uninstall xxx  (-g) 卸载模块  
npm cache clean 清理">
<meta property="og:updated_time" content="2016-03-21T10:06:49.313Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NPM安装及优化步骤--详细版">
<meta name="twitter:description" content="npm的常用命令npm install xxx 安装模块  
npm install xxx@1.1.1   安装1.1.1版本的xxx  
npm install xxx -g 将模块安装到全局环境中。  
npm ls 查看安装的模块及依赖  
npm ls -g 查看全局安装的模块及依赖  
npm uninstall xxx  (-g) 卸载模块  
npm cache clean 清理">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://ronghuaxueleng.github.io/2015/12/15/npm-setting/"/>

  <title>
  

  
    NPM安装及优化步骤--详细版 | 白云雅阁
  
</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">白云雅阁</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">读懂别人的故事，写好自己的人生</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    
    
      <hr>
<h2 id="npm的常用命令"><a href="#npm的常用命令" class="headerlink" title="npm的常用命令"></a>npm的常用命令</h2><pre><code>npm install xxx 安装模块  
npm install xxx@1.1.1   安装1.1.1版本的xxx  
npm install xxx -g 将模块安装到全局环境中。  
npm ls 查看安装的模块及依赖  
npm ls -g 查看全局安装的模块及依赖  
npm uninstall xxx  (-g) 卸载模块  
npm cache clean 清理缓存  
npm help xxx  查看帮助  
npm view moudleName dependencies  查看包的依赖关系  
npm view moduleNames  查看node模块的package.json文件夹  
npm view moduleName labelName  查看package.json文件夹下某个标签的内容  
npm view moduleName repository.url  查看包的源文件地址  
npm view moduleName engines   查看包所依赖的Node的版本  
npm help folders   查看npm使用的所有文件夹  
npm rebuild moduleName    用于更改包内容后进行重建  
npm outdated   检查包是否已经过时，此命令会列出所有已经过时的包，可以及时进行包的更新  
npm update moduleName   更新node模块  
</code></pre><h2 id="npm获取配置有6种方式，优先级由高到低"><a href="#npm获取配置有6种方式，优先级由高到低" class="headerlink" title="npm获取配置有6种方式，优先级由高到低"></a>npm获取配置有6种方式，优先级由高到低</h2><pre><code>1、命令行参数。 --proxy http://server:port即将proxy的值设为http://server:port。
2、环境变量。 以npm_config_为前缀的环境变量将会被认为是npm的配置属性。如设置proxy可以加入这样的环境变量npm_config_proxy=http://server:port。
3、用户配置文件。可以通过npm config get userconfig查看文件路径。如果是mac系统的话默认路径就是$HOME/.npmrc。
4、全局配置文件。可以通过npm config get globalconfig查看文件路径。mac系统的默认路径是/usr/local/etc/npmrc。
5、内置配置文件。安装npm的目录下的npmrc文件。
6、默认配置。 npm本身有默认配置参数，如果以上5条都没设置，则npm会使用默认配置参数。
</code></pre><h2 id="针对npm配置的命令行操作"><a href="#针对npm配置的命令行操作" class="headerlink" title="针对npm配置的命令行操作"></a>针对npm配置的命令行操作</h2><pre><code>npm config set &lt;key&gt; &lt;value&gt; [--global]
npm config get &lt;key&gt;
npm config delete &lt;key&gt;
npm config list
npm config edit
npm get &lt;key&gt;
npm set &lt;key&gt; &lt;value&gt; [--global]
在设置配置属性时属性值默认是被存储于用户配置文件中，如果加上--global，则被存储在全局配置文件中。
如果要查看npm的所有配置属性（包括默认配置），可以使用npm config ls -l。
如果要查看npm的各种配置的含义，可以使用npm help config。
</code></pre><p>由于国内网络的种种限制问题，直接运行npm install xxx安装模块支持的时候，有时会出现网络卡断，下载失败的情况，解决办法有2种：</p>
<p>1、为npm设置代理</p>
<pre><code>npm config set proxy http://server:port
npm config set https-proxy http://server:port
</code></pre><p>如果代理需要认证的话可以这样来设置。</p>
<pre><code>npm config set proxy http://username:password@server:port
npm config set https-proxy http://username:pawword@server:port
</code></pre><p>2、国内镜像</p>
<pre><code>清华大学Node Packaged Modules镜像：
http://npm.tuna.tsinghua.edu.cn
淘宝：
http://registry.npm.taobao.org
cnpmjs:
http://r.cnpmjs.org
未知：
http://registry.cnpmjs.org
</code></pre><p>方法一：通过config命令指定</p>
<pre><code>npm config set registry http://registry.cnpmjs.org 
npm info underscore （如果上面配置正确这个命令会有字符串response）
</code></pre><p>方法二：在命令行中指定</p>
<pre><code>npm --registry http://registry.cnpmjs.org info underscore
</code></pre><p>方法三：在配置文件中指定，编辑安装npm的目录下的npmrc文件加入下面内容</p>
<pre><code>registry = http://registry.cnpmjs.org
</code></pre><p>方法四：利用定制的cnpm代替npm</p>
<pre><code>#安装该模块，然后通过该命令来安装所需模块
npm install -g cnpm --registry=http://registry.npm.taobao.org
# 利用cnpm来安装模块
cnpm install [name]# 利用cnpm来同步模块
cnpm sync connect
</code></pre><p>方法五：利用alias添加一个基于npm的新命令</p>
<pre><code>alias cnpm=&quot;npm --registry=http://registry.npm.taobao.org \--cache=$HOME/.npm/.cache/cnpm \--disturl=http://npm.taobao.org/dist \--userconfig=$HOME/.cnpmrc&quot;#Or alias it in .bashrc or .zshrc$ echo &apos;\n#alias for cnpm\nalias cnpm=&quot;npm --registry=registry.npm.taobao.org \  --cache=$HOME/.npm/.cache/cnpm \  --disturl=http://npm.taobao.org/dist \  --userconfig=$HOME/.cnpmrc&quot;&apos; &gt;&gt; ~/.zshrc &amp;&amp; source ~/.zshrc
</code></pre>
    
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/img/avatar.jpg"
               alt="曹强" />
          <p class="site-author-name" itemprop="name">曹强</p>
          <p class="site-description motion-element" itemprop="description">caoqiang's blog | javascript | css | html | angularjs | 前端 | PHP |nodeJs</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">5</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ronghuaxueleng" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">曹强</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
